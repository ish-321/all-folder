if (self.CavalryLogger) { CavalryLogger.start_js(["IF9YL"]); }

__d("ExternalTrackingTag",["AsyncSignal","Event","TrackingPixel"],(function(a,b,c,d,e,f){var g={listenForElementClick:function(a,c,d,e,f){b("Event").listen(a,"click",function(){g.sendRequest(c,d,e,f)})},sendRequest:function(a,c,d,e){if(!a)return;new(b("AsyncSignal"))("/ads/external_tracking_tag/",{href:a,tracking_tag_id:c,adgroup_id:d,ad_id:e}).send();b("TrackingPixel").loadWithNoReferrer(a)}};e.exports=g}),null);
__d("FBLynxWrapper",["URI","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";a={SUBDOMAIN:"l",SUBDOMAIN_M:"lm",PATH:"/",URL_PARAM:"u",ENC_PARAM:"e",isLynxLink:function(a){if(a.getAttribute("data-lynx-async-dest"))return!0;if(a.getAttribute("data-lynx-uri"))return!0;return b("isLinkshimURI")(new(b("URI"))(a.href))?!0:!1}};e.exports=a}),null);
__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","BanzaiODS","DataAttributeUtils","DOM","ExternalTrackingTag","FBLynxWrapper","LitestandMessages","LitestandStream","Parent","SLConfig","TrackingNodes","URI","collectDataAttributes","ge","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1,i,j=!1;k.prototype.init=function(a){i=b("SLConfig").gk.sl_replace_s,b("Arbiter").subscribe("ClickRefAction/new",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/contextmenu",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/middleclick",this.onNewUserAction.bind(this)),j=a.see_more_logging_enabled,a.append_tracking_data_to_links&&(this.appendTrackingDataToLinks(),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this)),b("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",this.appendTrackingDataToLinks.bind(this),"new"))};k.prototype.getStories=function(){var a=b("LitestandStream").getStreamRoot();if(a)return b("DOM").scry(a,b("LitestandStream").getStoriesSelector());else{a=b("ge")("home_stream");if(a)return b("DOM").scry(a,".uiStreamStory")}return[]};k.prototype.appendTrackingDataToLinks=function(){__p&&__p();var a=this.getStories();for(var c=0;c<a.length;c++){var d=a[c],e=b("DataAttributeUtils").getDataFt(d);if(!e||e.indexOf("ei")===-1&&e.indexOf("mei")===-1)continue;e=b("DOM").scry(d,"a");for(var d=0;d<e.length;d++){var f=e[d];if(f.getAttribute("ajaxify")!=null)continue;if(f.getAttribute("rel")!=null)continue;var g=f.getAttribute("href");if(!g||g.charAt(0)==="#")continue;g=new(b("URI"))(f);if(g.domain==="m.facebook.com")continue;if(b("isFacebookURI")(g)===!1)continue;if(b("isLinkshimURI")(g)||b("FBLynxWrapper").isLynxLink(f))continue;if("hash"in g.getQueryData())continue;if(i&&(g.getPath()==="/ads/about"||g.getPath()==="/about/ads"))continue;f.setAttribute("href",l(f).toString());f.setAttribute("onmousedown","this.href = this.href.replace('__md__=0', '__md__=1');")}}};k.prototype.getHref=function(a){return a.getAttribute&&(a.getAttribute("ajaxify")||a.getAttribute("data-endpoint"))||a.action||a.href};k.prototype.sendLogRequest=function(a,c){__p&&__p();var d=a.ei||a.ai;!d&&a.mei&&(d=a.mf_story_key);if(a!==null&&typeof d==="string"){var e=!1;if(a.tn){var f=b("TrackingNodes").parseTrackingNodeString(a.tn);for(var h=0;h<f.length;h++){var i=f[h][0];switch(i){case b("TrackingNodes").types.LIKE_LINK:case b("TrackingNodes").types.UNLIKE_LINK:case b("TrackingNodes").types.COMMENT:case b("TrackingNodes").types.COMMENT_LINK:case b("TrackingNodes").types.ADD_COMMENT_BOX:case b("TrackingNodes").types.MULTI_ATTACHMENT_VIDEO:return;case b("TrackingNodes").types.XBUTTON:case b("TrackingNodes").types.HIDE_LINK:case b("TrackingNodes").types.REPORT_SPAM_LINK:case b("TrackingNodes").types.HIDE_ALL_LINK:case b("TrackingNodes").types.DROPDOWN_BUTTON:case b("TrackingNodes").types.UNHIDE_LINK:return;case b("TrackingNodes").types.RELATED_SHARE_ARTICLE:case b("TrackingNodes").types.RELATED_SHARE_VIDEO:return;case b("TrackingNodes").types.TRANSLATION:return;case b("TrackingNodes").types.ATTACHMENT:case b("TrackingNodes").types.USER_MESSAGE:e=!0;break}}}i=Date.now();h=500;a.duplicate_click=!!g[d]&&i-g[d]<h;g[d]=i;f=new(b("AsyncRequest"))("/ajax/ssinfeed/end/").setData(a).setAllowCrossPageTransition(!0).setMethod("POST");f.send();h=a.href;b("isLinkshimURI")(new(b("URI"))(h))&&new(b("URI"))(h).getQueryData()&&(h=new(b("URI"))(h).getQueryData().u);e&&!a.duplicate_click&&c!==null&&c.url&&h&&b("isFacebookURI")(new(b("URI"))(h))===!1&&(b("ExternalTrackingTag").sendRequest(c.url,c.tag_id,c.adgroup_id),b("BanzaiODS").bumpEntityKey("external_tracking_tags","request_sent"))}};k.prototype.onNewUserAction=function(a,c){__p&&__p();if(!c.node)return;a=this.getHref(c.node);var d=b("Parent").byTag(c.node,"input")||b("Parent").byTag(c.node,"button");!a&&d&&d.type=="submit"&&d.getAttribute&&b("DataAttributeUtils").getDataFt(d)&&(a="#");d=!1;if(c.node.getAttribute){var e=b("DataAttributeUtils").getDataFt(c.node);d=e&&e.indexOf("force_log_href")!=-1}!d&&c.event&&c.node.tagName==="A"&&c.event.defaultPrevented&&j&&(a="#");c.event&&(c.event.type==="click"||c.event.type==="contextmenu"||c.event.type==="mousedown")&&(e=b("collectDataAttributes")(c.node,["ft"]),e.ft.href=a,e.ft.mouse_type=c.event.type,e.ft.is_right_click=c.event.isRightClick()?1:0,e.ft.click_type=c.event.isRightClick()?"right_click":c.event.type==="click"?"left_click":"middle_click",d=b("collectDataAttributes")(c.node,["external-tracking-tags"]),a=b("collectDataAttributes")(c.node,["leadgen"]),a&&a.leadgen&&a.leadgen.submitted&&(e.ft.leadgen_submitted=1),this.sendLogRequest(e.ft,d["external-tracking-tags"]))};function k(){}function l(a){var c=new(b("URI"))(a.href);a=b("collectDataAttributes")(a,["ft"]).ft;var d=c.getQueryData();d.ft=a;d.__md__=0;c.setQueryData(d);return c}e.exports={init:function(a){h===!1&&(new k().init(a),h=!0)},buildURL:l}}),null);
__d("SLPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCount=function(a){this.$1.count=a;return this};a.prototype.setDurationMs=function(a){this.$1.duration_ms=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={count:!0,duration_ms:!0,event:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("cxodecode",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=36,i=2;function a(a){__p&&__p();if(!a)return"";a=a.cxononce;a||g(0,4289);var b=a.substr(0,a.length-i);a=parseInt(a.substr(-i),h);var c="";for(var d=0;d<b.length;d+=i)c+=String.fromCharCode(parseInt(b.substr(d,i),h)^a);return c}e.exports=a}),null);
__d("SLUtils",["csx","Arbiter","DOM","Event","FeedAdsClickLogger","LitestandMessages","LitestandStream","Run","SLConfig","SLPerfTypedLogger","URI","clearTimeout","curry","cxodecode","gkx","goURI","joinClasses","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("677764"),i=!1,j=[];function a(a,c){__p&&__p();if(i)return;i=!0;if(!b("SLConfig").gk.s_link_utils)return;z()&&(A().setEvent("init").log(),C("init_timer"));k();b("SLConfig").gk.sl_replace_about_link&&!h&&p(function(a,b){return q(a,b)});if(b("SLConfig").gk.sl_replace_s){w(a);var d=c.map(function(a){return{nonce:b("cxodecode")(a.nonce),className:b("cxodecode")(a.className)}});p(function(a,c){d.forEach(function(c){var d=b("DOM").scry(a,c.nonce);d.forEach(function(a){while(a.firstChild)a.removeChild(a.firstChild);a.className=b("joinClasses")(a.className,c.className)})})})}m();z()&&A().setEvent("init_duration").setDurationMs(D("init_timer")).log()}function k(){b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,m),b("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",m,"new")}function c(){z()&&C("cleanup_timer"),j.forEach(function(a){a.unsubscribe()}),i=!1,j=[],z()&&A().setEvent("cleanup_duration").setDurationMs(D("cleanup_timer")).log()}var l=null;function m(){__p&&__p();z()&&C("hsa_timer");b("clearTimeout")(l);l=null;var a=[],c=t(),d=y(),e=!1;d.forEach(function(b){__p&&__p();if(!b.id)return;if(c.has(b.id))return;if(!v(b,b.id)){e=!0;return}c.add(b.id);a.push([b,b.id])});e&&(l=b("setTimeoutAcrossTransitions")(m,b("SLConfig").sv.sl_content_waiting_delay),z()&&A().setEvent("hsa_waiting_for_content").log());z()&&A().setEvent("hsa_stories_added").setCount(a.length).log();if(a.length===0)return;a.forEach(function(a){var b=a[0],c=a[1];return o().forEach(function(a){return a(b,c)})});z()&&A().setEvent("hsa_duration").setDurationMs(D("hsa_timer")).log()}var n=[];function o(){return n}function p(a){n.push(a)}function q(a,c){__p&&__p();a=v(a,c);if(!a){z()&&A().setEvent("usl_real_subtitle_missing").log();return}c=b("DOM").scry(a,"a");a=c.filter(function(a){a=new(b("URI"))(a.href).getPath();return a==="/ads/about"||a==="/about/ads"});z()&&A().setEvent("usl_links_updated").setCount(a.length).log();a.forEach(function(a){var c=b("FeedAdsClickLogger").buildURL(a);b("Event").listen(a,"click",b("curry")(r,c));a.href="#"})}function d(a){b("Event").listen(a.link,"click",b("curry")(r,new(b("URI"))("/ads/about")))}function f(a){return}function r(a,c){b("goURI")(a),b("Event").stop(c)}var s=new Set();function t(){return s}var u=new Map();new Map();function v(a,c){var d=null;u.has(c)?d=u.get(c):d=a;c=b("DOM").scry(d,"._5pcp");if(c.length===0)return null;else return c[0]}function w(a){var c=document.createElement("style");c.type="text/css";c.textContent=b("cxodecode")(a);document.getElementsByTagName("head")[0].appendChild(c)}function x(){return b("LitestandStream").getStreamRoot()||document.body}function y(){return b("DOM").scry(x(),"._5pat")}function z(){return!!b("SLConfig").gk.sl_perf_logging}function A(){return new(b("SLPerfTypedLogger"))()}var B=new Map();function C(a){B.set(a,Date.now())}function D(a){a=B.get(a);return a==null?-1:Date.now()-a}b("Run").onBeforeUnload(c);g={init:a,openLink:f,openLabelLink:d};e.exports=g}),null);
__d("EntstreamFeedObjectTracking",["csx","CSS","DOM","EntstreamFeedObject","Focus","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();e.exports={register:function(a){var c=this.getRoot(a.nodeID);if(!c)return;var d=b("DOM").scry(c,"._5v9_"),e=d&&d.length?d:[c];a.actorIDs.forEach(function(a){var b=[].concat(h.get(a)||[]);b.push.apply(b,e);h.set(a,b)})},hideAllFromActor:function(a){var c=this.getRoot(a.nodeID);(h.get(a.actorID)||[]).forEach(function(a){if(a===c)return;b("CSS").hide(a)})},unhideAllFromActor:function(a){var c=this.getRoot(a.nodeID);(h.get(a.actorID)||[]).forEach(function(a){b("CSS").show(a)});c&&b("Focus").setWithoutOutline(c)},getRoot:function(a){a=b("ge")(a);return a?b("EntstreamFeedObject").getRoot(a):null}}}),null);
__d("FeedTrackingAsync",["Arbiter","Run","collectDataAttributes"],(function(a,b,c,d,e,f){__p&&__p();var g;e.exports.init=function(){__p&&__p();if(g)return;g=b("Arbiter").subscribe("AsyncRequest/send",function(a,c){a=c.request;c=a.getRelativeTo();if(c){a=a.getData();c=b("collectDataAttributes")(c,["ft"]);c.ft&&Object.keys(c.ft).length&&Object.assign(a,c)}});b("Run").onLeave(function(){g&&(g.unsubscribe(),g=null)})}}),null);
__d("MainThreadPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setArtilleryTraceID=function(a){this.$1.artillery_trace_id=a;return this};a.prototype.setEventDurationMs=function(a){this.$1.event_duration_ms=a;return this};a.prototype.setFrameDrops=function(a){this.$1.frame_drops=a;return this};a.prototype.setLargeFrameDrops=function(a){this.$1.large_frame_drops=a;return this};a.prototype.setMaxFrameDrops=function(a){this.$1.max_frame_drops=a;return this};a.prototype.setParallelActions=function(a){this.$1.parallel_actions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setSampleRate=function(a){this.$1.sample_rate=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={action:!0,artillery_trace_id:!0,event_duration_ms:!0,frame_drops:!0,large_frame_drops:!0,max_frame_drops:!0,parallel_actions:!0,sample_rate:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ArtilleryInteractionTraceName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DETAILS_PAGE_LOADING:"Details Page Loading",FBPKG_UI:"fbpkg_ui",BACKBONE_UI:"backbone_ui",ADS_INTERFACES_INTERACTION:"ADS_INTERFACES_INTERACTION",ADS_PERF_SCENARIO:"ads_perf_scenario",ADS_WAIT_TIME:"ads_wait_time",INTERN_NOTIFY_INBOX_PAGE_LOAD:"intern_notify_inbox_page_load",INTERN_NOTIFY_JEWEL_LIST_LOAD:"intern_notify_jewel_list_load",MAIN_THREAD_PERFORMANCE:"main_thread_performance",PAGES_INBOX_WWW_LOADING_ITEM:"pages_inbox_www.loading_item",SEVMANAGER_POWERSEARCH_INITIAL_PAGE_LOAD:"sevmanager_powersearch_initial_page_load",WATCH_SECTIONS_LOAD_MORE:"watch_sections_load_more",WATCH_DISCOVER_SCROLL:"watch_discover_scroll",WATCH_CAROUSEL_LEFT_SCROLL:"watch_carousel_left_scroll",WATCH_CAROUSEL_RIGHT_SCROLL:"watch_carousel_right_scroll",VIDEO_STALL:"video_stall",VIDEO_PSR:"video_psr",EVENT:"Event",DAIQUERY_INTERACTIVE_QUERY:"daiquery_interactive_query",TASKS_INITIAL_PAGE_LOAD:"tasks_initial_page_load",DO_NOT_USE_JUST_FOR_TESTING:"__test_interaction",PIXELCLOUD_VIEW_PERFORMANCE:"pixelcloud_view_performance"})}),null);
__d("MainThreadPerformanceMonitorActionEntry",["ArtilleryInteractionTraceName","FeedQuickLogModule","MainThreadPerformanceTypedLogger","QuickPerformanceLogger","TimeSliceInteraction","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){this.$4=0,this.$5=0,this.$7=0,this.$2=a,this.$10=d,this.$8=b("performanceNow")(),this.$6=new Set(c),this.$9=b("TimeSliceInteraction").create(b("ArtilleryInteractionTraceName").MAIN_THREAD_PERFORMANCE),this.$9.trace().addStringAnnotation("action",this.$2),this.$3=g.$1++,b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,this.$3),b("QuickPerformanceLogger").annotateMarkerString(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"ACTION",a,this.$3),b("QuickPerformanceLogger").setSampleRateForInstance(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,d,this.$3)}g.prototype.addLargeFrameDrops=function(a){if(a<=0)return this;this.$4+=a;this.$9.inform("large_frame_drop",{pointGroup:"large_frame_drops"}).addStringAnnotation("quantity",a.toString());return this};g.prototype.addFrameDrops=function(a){if(a<=0)return this;this.$5=Math.max(this.$5,a);this.$7+=a;return this};g.prototype.addParallelAction=function(a){this.$6.add(a);return this};g.prototype.log=function(){__p&&__p();if(this.$7>0){var a=b("performanceNow")()-this.$8;new(b("MainThreadPerformanceTypedLogger"))().setFrameDrops(this.$7).setLargeFrameDrops(this.$4).setMaxFrameDrops(this.$5).setAction(this.$2).setEventDurationMs(Math.round(a)).setParallelActions(this.$6).setArtilleryTraceID(this.$9.getTraceID()).setSampleRate(this.$10).log()}a=Array.from(this.$6);this.$4>0&&(this.$9.trace().addSetAnnotation("parallel_actions",a),this.$9.finish());b("QuickPerformanceLogger").annotateMarkerStringArray(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"PARALLEL_ACTIONS",a,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"LARGE_FRAME_DROPS",this.$4,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"FRAME_DROPS",this.$7,this.$3);b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"SUCCESS",this.$3)};g.$1=0;e.exports=g}),null);
__d("MainThreadPerformanceMonitor",["MainThreadPerformanceMonitorActionEntry","MainThreadPerformanceMonitorConfig","Random","Run","SubscriptionsHandler","Visibility","clearTimeout","gkx","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MainThreadPerformanceMonitorConfig").actionMaxDuration||12e4,h=1,i=4;a=60;var j=1e3/a,k=j*60,l=new Map(),m={},n,o,p=new(b("SubscriptionsHandler"))();function q(){p&&p.release(),u(),l.clear()}function r(){t(),p.addSubscriptions(b("Run").onLeave(q),b("Visibility").addListener(b("Visibility").VISIBLE,function(){return t()}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){return u()}))}function s(a){__p&&__p();if(o){var c=a-o;if(c<k){c=Math.max(Math.round(c/j)-1,0);var d=c>=h?c/h:0,e=c>=i?c/i:0;l.forEach(function(a){return a.addFrameDrops(d).addLargeFrameDrops(e)})}}o=a;n=b("requestAnimationFrame")(s)}function t(){n||(o=0,n=b("requestAnimationFrame")(s))}function u(){cancelAnimationFrame(n),n=null}c={isEnabled:function(){return b("gkx")("678737")},start:function(a){__p&&__p();if(l.has(a))return!0;if(!this.isEnabled())return!1;l.forEach(function(b){return b.addParallelAction(a)});var c=b("MainThreadPerformanceMonitorConfig").actionSamplingRates[a]||0;if(!b("Random").coinflip(c))return!1;l.size===0&&r();l.set(a,new(b("MainThreadPerformanceMonitorActionEntry"))(a,l.keys(),c));m[a]=b("setTimeout")(function(){return this.stop(a)}.bind(this),g);return!0},stop:function(a){__p&&__p();if(!this.isEnabled())return;var c=l.get(a);if(!c)return;c.log();l["delete"](a);b("clearTimeout")(m[a]);delete m[a];l.size===0&&q()}};e.exports=c}),null);
__d("FbFeedAccessible",["csx","fbt","invariant","Arbiter","ARIA","CSS","DataAttributeUtils","DOMQuery","LitestandMessages","SubscriptionsHandler","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="Accessibility/StoriesRequested",k="Accessibility/StoriesLoaded",l="Accessibility/StoryContentInserted",m="Accessibility/SubstreamInserted",n,o,p=!1;a={init:function(a){n=a,p||this._initSubscriptions(),this._enumerateStories()},_initSubscriptions:function(){p=!0;var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("LitestandMessages").STORIES_REQUESTED,this._onStoriesRequested.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,this._onInsertedSubstream.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").NEWER_STORIES_INSERTED,this._onInsertedSubstream.bind(this)),b("Arbiter").subscribe(k,this._processStoriesLoaded.bind(this)),b("Arbiter").subscribe(j,this._processStoriesRequested.bind(this)),b("Arbiter").subscribe(l,this._processStoryContentInserted.bind(this)),b("Arbiter").subscribe(m,this._processInsertedSubstream.bind(this)))},informStoryContentInserted:function(a){b("Arbiter").inform(l,a);a=b("ge")(a);a&&this._addAriaMarkup(a)},setARIARole:function(a){a.setAttribute("role","article")},setAriaLabelledBy:function(a){if(a.getAttribute("aria-labelledby"))return;var c=this._filterForElement(a,["._5pbw"]);c.length>0&&a.setAttribute("aria-labelledby",c.map(function(a){return b("getOrCreateDOMID")(a)}).join(" "))},setAriaDescribedBy:function(a){if(a.getAttribute("aria-describedby"))return;var c=this._filterForElement(a,[".timestampContent","._5pbx"]);c.length>0&&a.setAttribute("aria-describedby",c.map(function(a){return b("getOrCreateDOMID")(a)}).join(" "))},_getStories:function(a){return b("DOMQuery").scry(a||n,"._5jmm")},_onInsertedSubstream:function(a,c){c&&c.substream_id&&b("Arbiter").inform(m,c.substream_id)},_onStoriesRequested:function(){b("Arbiter").inform(j)},_enumerateStories:function(){var a=this._getStories(n);o=a.length;a.forEach(function(a,b){this._enumerateStory(a,b+=1)}.bind(this))},_enumerateSubstream:function(a){var c=this._getStories();o=c.length;c=this._getStories(b("ge")(a));a=c.length||0;for(var d=0;d<a;d++)this._registerStoryEnumerationPosition(c[d],o-a+(d+1),d+1)},_enumerateStory:function(a,b){this._isStory(a)||i(0,4854),b>0&&(a.setAttribute("aria-posinset",""+b),a.setAttribute("aria-setsize",o))},_processStoriesLoaded:function(){b("ARIA").notify(h._("More stories loaded."))},_processStoriesRequested:function(){b("ARIA").notify(h._("More stories requested."))},_processInsertedSubstream:function(a,b){this._enumerateSubstream(b),this._enumerateStories()},_processStoryContentInserted:function(a,c){__p&&__p();var d;a=b("ge")(c);a&&(d=JSON.parse(b("DataAttributeUtils").getDataFt(a)),this._addAriaMarkup(a));if(d&&d.ordinal_position){c=d.ordinal_position.split(":");var e=c[0];c=c[1];e=parseInt(e,10);c=parseInt(c,10);this._enumerateStory(a,e);c===1&&b("Arbiter").inform(k)}},_addAriaMarkup:function(a){if(!this._isStory(a))return;this.setARIARole(a);this.setAriaLabelledBy(a);this.setAriaDescribedBy(a)},_registerStoryEnumerationPosition:function(a,c,d){var e=JSON.parse(b("DataAttributeUtils").getDataFt(a));e&&(e.ordinal_position=c+":"+d,b("DataAttributeUtils").setDataFt(a,JSON.stringify(e)))},_isStory:function(a){return b("CSS").matchesSelector(a,"._5jmm")},_filterForElement:function(a,c){return c.map(function(c){return b("DOMQuery").scry(a||document,c)[0]}).filter(function(a){return!!a})}};e.exports=a}),null);
__d("GHLDebug",["distinctArray","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=new Set(),i=function(){return g};a=function(a,b,c,d,e){__p&&__p();g.push([a.toString(),b,c,d,e.toString(),j(document.getElementById(d))]);for(var a=h,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}d=e;d(i())}};var j=function(a){if(a==null)return null;var c=(a.innerText||"").trim().replace(/\n\r?\s*/g,"\n");a=Array.from(a.querySelectorAll("img")).map(function(a){return a instanceof HTMLImageElement?a:null}).filter(Boolean).sort(function(a,b){return b.width*b.height-a.width*a.height}).map(function(a){return a.src});return{text:c,images:b("distinctArray")(a)}};c=function(a){h.add(a);a(i());return function(){h["delete"](a)}};e.exports=b("gkx")("676902")?{hoot:a,murmur:i,elect:c}:{hoot:b("emptyFunction"),murmur:b("emptyFunction"),elect:b("emptyFunction")}}),null);
__d("GHLOrganicTracker",["AdblockerDetectionRetryConfig","Banzai","BanzaiODS","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="swank",h={hidden:0,total:0,isAlertLogged:!1};a=function(){h.total+=1};c=function(){h.hidden+=1,h.hidden>h.total&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLOrganicTracker.markElementAsHidden.error_hidden_count_more_than_total."+h.total+"."+h.hidden)};var i=function(){return h.isAlertLogged},j=function(){h.isAlertLogged=!0},k=function(){b("gkx")("813641")&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLOrganicTracker.isFeedBroken.debug_logs_total_hidden."+h.total+"."+h.hidden);return h.total!=0&&h.total>=b("AdblockerDetectionRetryConfig").feed_broken_min_total_posts&&h.hidden/h.total>=b("AdblockerDetectionRetryConfig").feed_broken_min_hidden_posts_to_total_ratio?!0:!1};d=function(a,c){i()===!1&&k()===!0&&(b("BanzaiODS").bumpEntityKey("feed_ads","GHLOrganicTracker.logIfFeedIsBroken.organic_feed_broken_sessions"),b("Banzai").post("xtrackable:"+g,{token:a,event_code:c}),j())};e.exports={markL:a,markH:c,logB:d}}),null);
__d("GHLSurvey",["AdblockerDetectionRetryConfig","AdDelayedHiddenCheckConfiguration","Banzai","BanzaiODS","DataAttributeUtils","DateTime","ErrorUtils","FBLogger","GHLDebug","GHLOrganicTracker","GHLTestElement","GHLTracker","Run","ghlTestUBT","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="swank",h="7.",i=0,j=4,k=6,l=8,m=9,n=10,o=12,p=13,q=3;a={survey:function(){return b("ghlTestUBT")(function(a){var c;return b("Banzai").post("search_check",(c={},c[q]=a,c))})},check:function(a,c,d){var e=function(){d===!0?b("GHLTracker").track(a.id):b("gkx")("813642")&&b("GHLOrganicTracker").markL(),t(a,c,d,0)};b("Run").onAfterLoad(s(e,"initial"))},checkF:function(a,b){r(a,b)}};var r=function(a,c){__p&&__p();x("checkF.function_call");var d=document.getElementById(a);if(d==null){x("checkF.no_element");return}var e=b("DataAttributeUtils").getDataAttribute(d,"data-xt");if(!e){x("checkF.unexpected_token.type-"+typeof e+".value-"+e);return}var f=Array.from(d.querySelectorAll("img"));if(f.length===0){x("checkF.not_loaded");return}c===!0&&b("GHLTracker").track(a);u(d,e,c,0)},s=function(a,c){return function(){b("ErrorUtils").applyWithGuard(a,null,null,null,"GHL:guard:"+c)}},t=function a(c,d,e,f){__p&&__p();var i=Array.from(c.querySelectorAll("img"));if(i.length===0&&d.startsWith(h)){var j=f+1;if(j<5){var k=function(){a(c,d,e,j)};setTimeout(s(k,"pagelet-check"),2500)}else e&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.feed_ad_pagelet_timeout"),b("Banzai").post("xtrackable:"+g,{token:d,event_code:e?m:n});return}if(i.length===0){k=d.startsWith("2.");k||b("FBLogger")("GHL").warn("Expected to find images. (Token: %s)",d);return}if(e&&d.startsWith(h)){i=b("GHLTracker").getState(c.id);(i==null?void 0:i.isDelayImpLogged)===!0&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.element_delay_logged_imp_when_pagelet_loading");b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.feed_ad_ready_after_pagelet_retry_count."+f)}u(c,d,e,0)},u=function(a,c,d,e){__p&&__p();var f="other";c.startsWith(h)&&(f="16");d||(f="organic");f=b("GHLTestElement").testElementI(a,".ghls."+f);if(!f){v(a,c,d,e);return}if(d){A();if(b("gkx")("688495")){f=b("GHLTestElement").testImagesCompat(a);f||b("Banzai").post("xtrackable:"+g,{token:c,event_code:o})}}if(e>0){f=d?j:l;w(f,c,a.id,e*z(d));return}f=d?i:k;w(f,c,a.id,0)},v=function(a,b,c,d){var e=d+1;if(e>=y(c))return;d=function(){u(a,b,c,e)};var f=z(c);setTimeout(s(d,"hidden-check"),f)},w=function(a,c,d,e){b("Banzai").post("xtrackable:"+g,{token:c,event_code:a,hidden_delay:e});b("GHLDebug").hoot(a,b("DateTime").localNow(),c,d,e);if(a===j||a===i){e=b("GHLTracker").getState(d);(e==null?void 0:e.isDelayImpLogged)===!0&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.element_marked_hidden_already_delay_logged_imp");b("GHLTracker").markH(d)}b("gkx")("813642")&&(a===l||a===k)&&(b("GHLOrganicTracker").markH(),b("GHLOrganicTracker").logB(c,p));B(a)},x=function(a){return b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey."+a)},y=function(a){return a?b("AdblockerDetectionRetryConfig").retry_count:b("AdblockerDetectionRetryConfig").organic_retry_count},z=function(a){return a?b("AdblockerDetectionRetryConfig").retry_interval:b("AdblockerDetectionRetryConfig").organic_retry_interval},A=function(){return b("AdDelayedHiddenCheckConfiguration").setEnabled(!0)},B=function(a){if(!b("gkx")("822363"))return;b("ghlTestUBT")(function(c){b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.ghlTestUBT_match."+a+"."+c.toString())})};e.exports=a}),null);
__d("MainThreadPerformanceLoggerActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCROLL:"scroll",TAIL_LOAD:"tail_load"})}),null);